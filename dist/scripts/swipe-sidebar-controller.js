"use strict";jQuery(function(){function n(){t(),f.addClass("_sidebar-showing"),h.addClass("_darker"),u.addClass("_sidebar-showing"),g=!0}function e(){t(),f.removeClass("_sidebar-showing"),h.removeClass("_darker"),u.removeClass("_sidebar-showing"),g=!1}function s(){h.addClass("_sidebar-moving"),u.addClass("_moving"),m=!0}function i(){h.removeClass("_sidebar-moving"),u.removeClass("_moving"),m=!1}function t(){h.css("filter",""),u.hasClass("toc")?u.attr("class","toc").css("left",""):u.removeClass().css("left","")}function a(){u.hasClass("_sidebar-showing")?e():n()}function o(n,e,s){var i=void 0,t=void 0;return e>s?(i=s,t=e):(i=e,t=s),n>=i&&n<=t}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===n)return u.position().left+w;u.css("left",n-w+"px")}function c(){var n=1-r()/(2*w);h.css("filter","brightness("+n+")")}function l(){v=!1}function d(){v=!0}var u=jQuery("aside"),f=jQuery(".sidebar-button"),h=jQuery("section.content"),g=!1,m=!1,v=!1,w=void 0,p=null,C=null;jQuery(window).resize(function(){w=u.outerWidth(),window.matchMedia("(max-width: 800px)").matches?d():l()}),window.matchMedia("(max-width: 800px)").matches?d():l(),f.click(function(){a()}),jQuery(document).click(function(n){var s=jQuery(n.target);0===s.closest(".sidebar-button").length&&0===s.closest("aside").length&&e()}),delete Hammer.defaults.cssProps.userSelect,w=u.outerWidth(),p=new Hammer(h.get(0),{dragLockToAxis:!0,dragBlockHorizontal:!0}),C=new Hammer(u.get(0),{dragLockToAxis:!0,dragBlockHorizontal:!0}),p.on("swiperight",function(e){v&&o(e.changedPointers[0].clientX-e.deltaX,0,20)&&n()}),C.on("swipeleft",function(){v&&e()}),p.on("panleft panright",function(n){v&&(g||(m?(c(),r(n.changedPointers[0].clientX>w?w:n.changedPointers[0].clientX)):o(n.changedPointers[0].clientX-n.deltaX,0,20)&&s()))}),C.on("panleft panright",function(n){v&&(n.isFinal||(m?(c(),r(w+n.deltaX>w?w:w+n.deltaX)):s()))}),p.on("panend pancancel",function(){v&&(i(),u.hasClass("_sidebar-showing")||(r()>w/2?n():e()))}),C.on("panend pancancel",function(){v&&(i(),u.hasClass("_sidebar-showing")&&(r()<w/2?e():n()))})});